<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ScrollMagic Test</title>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- GSAP 2.x -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>

  <!-- ScrollMagic core -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>

  <!-- ScrollMagic GSAP plugin -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js"></script>

  <!-- ScrollMagic debug plugin -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>

  <style type="text/css">
    /* #pinContainer {
      width: 100%;
      height: 100vh;
      overflow: hidden;
      perspective: 1000;  
      /* 위에 속성은 3d로 보이게끔 만들어주는 속성 
    }
    #slideContainer {
      width: 400%;
      height: 100%;
    } */
    #pinContainer {
        width: 100%;
        height: 100vh;
        overflow: hidden;
    }

        #perspectiveWrap {
        width: 100%;
        height: 100%;
        perspective: 1000px;
    }

        #slideContainer {
        width: 400%;
        height: 100%;
        transform-style: preserve-3d;
    }

    .panel {
      height: 100%;
      width: 25%;
      float: left;
      font-size: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
    }
    .blue { background: #3498db; }
    .turqoise { background: #1abc9c; }
    .green { background: #2ecc71; }
    .bordeaux { background: #8e44ad; }
  </style>
</head>

<body>
  <div id="pinContainer">
  <div id="perspectiveWrap">
    <div id="slideContainer">
      <section class="panel blue"><b>ONE</b></section>
      <section class="panel turqoise"><b>TWO</b></section>
      <section class="panel green"><b>THREE</b></section>
      <section class="panel bordeaux"><b>FOUR</b></section>
    </div>
  </div>
  </div>

  <script>
    $(function () { // wait for document ready
		// init
		var controller = new ScrollMagic.Controller();

		// define movement of panels
		var wipeAnimation = new TimelineMax()
			// animate to second panel
			.to("#slideContainer", 0.5, {z: -150})		// move back in 3D space
			.to("#slideContainer", 1,   {x: "-25%"})	// move in to first panel
			.to("#slideContainer", 0.5, {z: 0})				// move back to origin in 3D space
			// animate to third panel
			.to("#slideContainer", 0.5, {z: -150, delay: 1})
			.to("#slideContainer", 1,   {x: "-50%"})
			.to("#slideContainer", 0.5, {z: 0})
			// animate to forth panel
			.to("#slideContainer", 0.5, {z: -150, delay: 1})
			.to("#slideContainer", 1,   {x: "-75%"})
			.to("#slideContainer", 0.5, {z: 0});

		// create scene to pin and link animation
		new ScrollMagic.Scene({
				triggerElement: "#pinContainer",
				triggerHook: "onLeave",
				duration: "500%"
			})
			.setPin("#pinContainer")
			.setTween(wipeAnimation)
			.addIndicators() // add indicators (requires plugin)
			.addTo(controller);
	});
  </script>

</body>
</html>
